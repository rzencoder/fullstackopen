{"version":3,"sources":["Search.js","DisplayPersons.js","Message.js","AddPerson.js","services/numberService.js","App.js","index.js"],"names":["Search","handleSearchChange","newSearch","onChange","value","DisplayPersons","persons","handleDelete","renderPersons","map","person","name","toLowerCase","includes","key","number","onClick","Message","message","className","status","text","AddPerson","handleOnSubmit","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","type","baseUrl","App","useState","setPersons","setNewName","setNewNumber","setNewSearch","setMessage","useEffect","axios","get","then","res","data","handleMessage","setTimeout","handleNumberReplacement","id","put","replaceNumber","filteredPersons","filter","val","e","target","preventDefault","duplicateName","length","window","confirm","post","concat","catch","error","String","delete","deletePerson","newPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.35246198.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Search = ({ handleSearchChange, newSearch }) => {\r\n  return (\r\n    <div>\r\n      filter shown with:\r\n      <input onChange={handleSearchChange} value={newSearch} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\n\r\nconst DisplayPersons = ({ persons, newSearch, handleDelete }) => {\r\n  const renderPersons = persons.map(person => {\r\n    if (person.name.toLowerCase().includes(newSearch)) {\r\n      return (\r\n        <div key={person.name}>\r\n          <div>\r\n            {person.name} {person.number}\r\n          </div>\r\n          <button onClick={() => handleDelete(person)}>Delete</button>\r\n        </div>\r\n      );\r\n    }\r\n  });\r\n  return (\r\n    <div>\r\n      <h2>Numbers</h2>\r\n      <div>{renderPersons}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DisplayPersons;\r\n","import React from \"react\";\r\n\r\nconst Message = ({ message }) => {\r\n  return <div className={message.status}>{message.text}</div>;\r\n};\r\n\r\nexport default Message;\r\n","import React from \"react\";\r\n\r\nconst AddPerson = ({\r\n  handleOnSubmit,\r\n  handleNameChange,\r\n  handleNumberChange,\r\n  newName,\r\n  newNumber\r\n}) => {\r\n  return (\r\n    <div>\r\n      <h2>Add a New Number</h2>\r\n      <form onSubmit={handleOnSubmit}>\r\n        <div>\r\n          name: <input onChange={handleNameChange} value={newName} />\r\n        </div>\r\n        <div>\r\n          number: <input onChange={handleNumberChange} value={newNumber} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddPerson;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nexport const addPerson = (data) => {\r\n  const request = axios.post(baseUrl, data);\r\n  return request.then((res) => res.data);\r\n};\r\n\r\nexport const getPhonebook = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((res) => res.data);\r\n};\r\n\r\nexport const deletePerson = (person) => {\r\n  const request = axios.delete(`${baseUrl}/${person.id}`);\r\n  return request.then((res) => res.data);\r\n};\r\n\r\nexport const replaceNumber = (id, data) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, data);\r\n  return request.then((res) => res.data);\r\n};\r\n","import React, { useState, useEffect } from \"react\";\nimport Search from \"./Search\";\nimport DisplayPersons from \"./DisplayPersons\";\nimport Message from \"./Message\";\nimport AddPerson from \"./AddPerson\";\nimport {\n  addPerson,\n  getPhonebook,\n  deletePerson,\n  replaceNumber,\n} from \"./services/numberService\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newSearch, setNewSearch] = useState(\"\");\n  const [message, setMessage] = useState({});\n\n  useEffect(() => {\n    getPhonebook().then((res) => setPersons(res));\n  }, []);\n\n  const handleMessage = (data) => {\n    setMessage(data);\n    setTimeout(() => {\n      setMessage({});\n    }, 3000);\n  };\n\n  const handleOnSubmit = (e) => {\n    e.preventDefault();\n    const duplicateName = persons.filter((person) => person.name === newName);\n    duplicateName.length\n      ? window.confirm(\n          `${newName} is already added to the phonebook. Replace the old number with a new one?`\n        ) && handleNumberReplacement(duplicateName[0])\n      : addPerson({ name: newName, number: newNumber })\n          .then((data) => {\n            setPersons(persons.concat(data));\n            handleMessage({ text: `Added ${data.name}`, status: \"ok\" });\n          })\n          .catch((error) => {\n            handleMessage({ text: String(error), status: \"error\" });\n          });\n  };\n\n  const handleNumberReplacement = (person) => {\n    const data = { ...person, number: newNumber };\n    replaceNumber(person.id, data).then((res) => {\n      const filteredPersons = persons.filter((val) => val.name !== res.name);\n      setPersons([...filteredPersons, res]);\n      handleMessage({ text: \"Number Changed Successfully\", status: \"ok\" });\n    });\n  };\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value);\n  };\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value);\n  };\n  const handleSearchChange = (e) => {\n    setNewSearch(e.target.value);\n  };\n  const handleDelete = (person) => {\n    window.confirm(`Delete ${person.name}?`) &&\n      deletePerson(person)\n        .then((data) => {\n          const newPersons = persons.filter((val) => val.name !== person.name);\n          setPersons(newPersons);\n        })\n        .catch((error) => {\n          handleMessage({\n            text: `${person.name} has been already been deleted from the server`,\n            status: \"error\",\n          });\n        });\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Message message={message} />\n      <Search handleSearchChange={handleSearchChange} newSearch={newSearch} />\n      <AddPerson\n        handleNameChange={handleNameChange}\n        handleOnSubmit={handleOnSubmit}\n        handleNumberChange={handleNumberChange}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <DisplayPersons\n        persons={persons}\n        handleDelete={handleDelete}\n        newSearch={newSearch}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}